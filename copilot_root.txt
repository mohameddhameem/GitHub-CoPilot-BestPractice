# GitHub Copilot Instructions - Workspace Root

## Core Principles

### Code Quality Standards
- Write code as if a senior engineer is reviewing your merge request
- Code must be self-explanatory; if you can't understand it, humans won't either
- No emojis in code or comments
- Remove redundant comments; code should speak for itself
- Run SonarQube/SonarLint analysis after every edit and fix all issues immediately

### Code Review Mindset
- Provide honest, brutal feedback without sugarcoating
- Question unclear logic, ambiguous requirements, or poor design decisions
- Ask clarifying questions when user intent or code logic is unclear
- Suggest architectural improvements proactively

### Documentation and Maintenance
- Update documentation whenever code changes affect public APIs or behavior
- Maintain and update TODO lists consistently
- Keep README files synchronized with actual implementation

### Logging Standards
- Log before and after every significant data manipulation
- Log before and after model inference operations
- Include contextual information: timestamps, data shapes, key values
- Use structured logging with appropriate log levels (DEBUG, INFO, WARNING, ERROR)

## Code Formatting
- Format code to match IntelliJ IDEA standards
- Consistent indentation and spacing
- Line length: 120 characters maximum
- Organize imports alphabetically and remove unused imports
- Use the project formatter stack (ruff+black for Python; Prettier+ESLint for JS/TS)

### Branching, Commits, and Reviews
- Branch naming: `feature/<short-name>`, `bugfix/<id>`, `chore/<desc>`
- Commits: present tense, scoped, small; include rationale in body when non-obvious
- Require peer review; block merges on lint/format failures

### Testing and Coverage
- Run tests locally before push; prefer failing fast over broken main
- Aim for meaningful coverage (not vanity); exercise error paths and boundary cases
- Keep CI parity locally via pre-commit hooks (lint/format) and documented test commands

### Dependencies and Updates
- Pin direct dependencies where possible; review change logs before bumping
- Remove unused dependencies promptly
- Document runtime requirements (Python/Node versions) in README

### Secrets and Compliance
- Never commit secrets; prefer env vars or secret stores
- Scrub PII from logs by default; only log minimal identifiers when necessary
- Follow least-privilege for cloud roles and tokens

## Question Protocol
When encountering:
- Unclear requirements: Ask specific questions
- Ambiguous logic: Request clarification
- Multiple implementation approaches: Present options with trade-offs
- Missing context: Identify and request necessary information

## Project-Specific Instructions
Refer to project-specific `.github/copilot-instructions.md` files in:
- `ansible-infra/` - Infrastructure automation
- `react-frontend/` - Frontend application
- `fastapi-backend/` - Backend API service
- `pytorch-ai-backend/` - ML model inference service